{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FindMyThing | Home</title>
    <link rel="stylesheet" href="{% static 'dashboard.css' %}">
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo">
            <span class="logo-icon">üîç</span>
            <span>FindMyThing</span>
        </div>
        <ul class="nav-links">
            <li><a href="{% url 'view_lost' %}" class="nav-link">Lost Items</a></li>
            <li><a href="{% url 'view_found' %}" class="nav-link">Found Items</a></li>
            <li><a href="#about" class="nav-link">About</a></li>
            <li class="notif-wrapper">
                <button class="notif-bell" onclick="toggleNotifications()">
                    üîî
                    {% if notifications %}
                    <span class="notif-badge">{{ notifications|length }}</span>
                    {% endif %}
                </button>
                <div class="notif-dropdown" id="notifDropdown">
                    {% if notifications %}
                        {% for notif in notifications %}
                        <a href="{{ notif.link }}" class="notif-item">{{ notif.message }}</a>
                        {% endfor %}
                    {% else %}
                        <div class="no-notif">No new notifications</div>
                    {% endif %}
                </div>
            </li>
            {% if user.is_authenticated %}
                <li><a href="{% url 'profile' %}" class="nav-link signup-btn" data-translate="Profile">Profile</a></li>
            {% else %}
                <li><a href="{% url 'login' %}" class="nav-link login-btn">Login</a></li>
                <li><a href="{% url 'signup' %}" class="nav-link signup-btn">Signup</a></li>
            {% endif %}
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">Lost Your Precious Item? <br> <span class="gradient-text">Don't Worry, We've Got Your Back!</span></h1>
                <p class="hero-description">
                    Every lost item has a story. Whether it's your favorite book, lucky charm, or daily essential - 
                    we connect honest finders with worried owners. Join our community where kindness meets technology, 
                    and lost items find their way home. Because losing something shouldn't mean losing hope!
                </p>

                <div class="hero-buttons">
                    {% if user.is_authenticated %}
                        <a href="{% url 'report_lost' %}" class="btn btn-primary">
                            <span class="btn-text">Report Lost Item</span>
                            <span class="btn-icon">‚Üí</span>
                        </a>
                        <a href="{% url 'report_found' %}" class="btn btn-secondary">
                            <span class="btn-text">Report Found Item</span>
                            <span class="btn-icon">‚Üí</span>
                        </a>
                    {% else %}
                        <button class="btn btn-primary" onclick="redirectToLogin()">
                            <span class="btn-text">Report Lost Item</span>
                            <span class="btn-icon">‚Üí</span>
                        </button>
                        <button class="btn btn-secondary" onclick="redirectToLogin()">
                            <span class="btn-text">Report Found Item</span>
                            <span class="btn-icon">‚Üí</span>
                        </button>
                    {% endif %}
                </div>
            </div>
            <div class="hero-visual">
                <div class="floating-card card-1">
                    <div class="card-icon">üì±</div>
                    <p>Smart Search</p>
                </div>
                <div class="floating-card card-2">
                    <div class="card-icon">üìç</div>
                    <p>Location Based</p>
                </div>
                <div class="floating-card card-3">
                    <div class="card-icon">‚ö°</div>
                    <p>Real-time Alerts</p>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="about-container">
            <div class="about-header">
                <h2 class="about-title">About <span class="gradient-text">FindMyThing</span></h2>
                <p class="about-tagline">Reuniting People with Their Lost Belongings</p>
            </div>
            
            <div class="about-content">
                <div class="about-card">
                    <div class="card-icon">üéØ</div>
                    <h3>Our Mission</h3>
                    <p>We believe every lost item has a story and deserves to find its way back home. FindMyThing bridges the gap between those who lose and those who find.</p>
                </div>
                
                <div class="about-card">
                    <div class="card-icon">‚ö°</div>
                    <h3>Lightning Fast</h3>
                    <p>Report lost or found items in seconds. Our smart matching system instantly connects you with potential matches in your area.</p>
                </div>
                
                <div class="about-card">
                    <div class="card-icon">ü§ù</div>
                    <h3>Community Driven</h3>
                    <p>Join thousands of helpful people making a difference. Together, we're building a community where honesty and kindness prevail.</p>
                </div>
                
                <div class="about-card">
                    <div class="card-icon">üîí</div>
                    <h3>Safe & Secure</h3>
                    <p>Your privacy matters. We protect your personal information while facilitating safe connections between finders and owners.</p>
                </div>
            </div>
            
            <div class="stats-section">
                <div class="stat-item">
                    <div class="stat-number">1000+</div>
                    <div class="stat-label">Items Reunited</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Active Users</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">95%</div>
                    <div class="stat-label">Success Rate</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Stories -->
    <section class="success-section">
        <div class="success-container">
            <h2 class="success-title">üíù Happy Reunions</h2>
            <p class="success-subtitle">Real stories from our community</p>
            
            <div class="stories-grid">
                <div class="story-card">
                    <div class="story-icon">üìö</div>
                    <h3>"Got my textbook back!"</h3>
                    <p>"Lost my engineering book before exams. Found it within 2 hours thanks to this platform. Lifesaver!"</p>
                    <div class="story-meta">- Priya, Student</div>
                </div>
                
                <div class="story-card">
                    <div class="story-icon">üéí</div>
                    <h3>"Reunited with my bag"</h3>
                    <p>"Left my backpack in the library. Someone posted it here and I got it back with everything intact!"</p>
                    <div class="story-meta">- Rahul, Student</div>
                </div>
                
                <div class="story-card">
                    <div class="story-icon">üíç</div>
                    <h3>"Found my lucky charm"</h3>
                    <p>"My grandmother's ring was lost. This community helped me find it. Forever grateful!"</p>
                    <div class="story-meta">- Sneha, Faculty</div>
                </div>
            </div>
            
            <div class="stats-highlight">
                <div class="stat-box">
                    <div class="stat-num">500+</div>
                    <div class="stat-text">Items Reunited</div>
                </div>
                <div class="stat-box">
                    <div class="stat-num">24hrs</div>
                    <div class="stat-text">Avg Recovery Time</div>
                </div>
                <div class="stat-box">
                    <div class="stat-num">98%</div>
                    <div class="stat-text">Happy Users</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Sign In Required</h2>
            <p>You need to login to report items. Please sign in or create an account.</p>
            <div class="modal-buttons">
                <a href="{% url 'login' %}" class="btn btn-primary">Login</a>
                <a href="{% url 'signup' %}" class="btn btn-secondary">Signup</a>
            </div>
        </div>
    </div>

    <script>
        const modal = document.getElementById('loginModal');
        const closeBtn = document.querySelector('.close');

        function redirectToLogin() {
            modal.style.display = 'block';
        }

        closeBtn.onclick = function() {
            modal.style.display = 'none';
        }

        window.onclick = function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }

        function toggleNotifications() {
            const dropdown = document.getElementById('notifDropdown');
            dropdown.classList.toggle('show');
        }

        window.onclick = function(event) {
            if (!event.target.matches('.notif-bell')) {
                const dropdown = document.getElementById('notifDropdown');
                if (dropdown && dropdown.classList.contains('show')) {
                    dropdown.classList.remove('show');
                }
            }
        }
    </script>

</body>
</html>